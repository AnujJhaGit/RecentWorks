<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Encode / Escape Tool</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Include the 'he' library -->
    <script src="https://cdn.jsdelivr.net/npm/he@1.2.0/dist/he.min.js"></script>
</head>

<body class="container mt-5">

    <h1 class="mb-4">HTML Encode / Escape</h1>

    <!-- Textarea for input -->
    <div class="mb-3">
        <label for="htmlInput" class="form-label">Input HTML:</label>
        <textarea class="form-control" id="htmlInput" rows="5"></textarea>
    </div>

    <!-- Upload File option -->
    <div class="mb-3">
        <label for="fileInput" class="form-label">Upload File:</label>
        <input type="file" class="form-control" id="fileInput">
    </div>

    <!-- Auto Update Checkbox and Encode Button -->
    <div class="mb-3 d-flex justify-content-center align-items-center">
        <div class="form-check">
            <input type="checkbox" class="form-check-input" id="autoUpdate">
            <label class="form-check-label" for="autoUpdate">Auto Update</label>
        </div>
        <button class="btn btn-secondary ms-2" id="encodeBtn" onclick="encodeHTML()">Encode</button>
    </div>

    <!-- Output area -->
    <div class="mb-3">
        <label for="encodedOutput" class="form-label">Encoded HTML:</label>
        <textarea class="form-control" id="encodedOutput" rows="5" readonly></textarea>
    </div>

    <!-- Download and Copy buttons -->
    <div class="mb-3">
        <button class="btn btn-primary" id="downloadBtn" onclick="downloadEncodedContent()">Download</button>
        <button class="btn btn-success" id="copyBtn" onclick="copyToClipboard()">Copy to Clipboard</button>
    </div>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap JS and Popper.js (required for some Bootstrap components) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery (required for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- "he" library for HTML encoding -->

    <script>
        function encodeHTML() {
            var inputElement = document.getElementById('htmlInput');
            var outputElement = document.getElementById('encodedOutput');
            var inputValue = inputElement.value;

            // Use 'he' library to encode HTML
            var encodedValue = he.encode(inputValue);

            // Update the output textarea
            outputElement.value = encodedValue;
        }

        function downloadEncodedContent() {
            var outputElement = document.getElementById('encodedOutput');
            var encodedValue = outputElement.value;

            // Create a Blob with the encoded content
            var blob = new Blob([encodedValue], { type: 'text/html' });

            // Create a download link and trigger click
            var link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = 'encoded_content.html';
            link.click();
        }

        function copyToClipboard() {
            var outputElement = document.getElementById('encodedOutput');
            var encodedValue = outputElement.value;

            // Create a textarea element to hold the encoded content
            var textarea = document.createElement('textarea');
            textarea.value = encodedValue;
            document.body.appendChild(textarea);

            // Select and copy the content
            textarea.select();
            document.execCommand('copy');

            // Remove the temporary textarea
            document.body.removeChild(textarea);

            alert('Content copied to clipboard!');
        }
    </script>

</body>

</html>
